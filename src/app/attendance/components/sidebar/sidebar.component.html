<nav class="sidebar" [ngClass]="{sidebarPushRight: isActive, collapsed: collapsed}">
    <div class="list-group">
        <a [routerLink]="['/todays-report']" [routerLinkActive]="['router-link-active']" class="list-group-item">
            <i class="fa fa-fw fa fa-file"></i>&nbsp;
            <span>{{ 'Today\'s Report' }}</span>
        </a>
        <a [routerLink]="['/attendance-stats']" [routerLinkActive]="['router-link-active']" class="list-group-item">
            <i class="fa fa-fw  fa-bar-chart"></i>&nbsp;
            <span>{{ 'Attendance Stats' }}</span>
        </a>
        <a role="button" class="list-group-item" (click)="openVerticallyCentered(content)">
            <i class="fa fa-fw  fa-registered"></i>&nbsp;
            <span>{{ 'New Registration' }}</span>
        </a>
        <hr >

        <!-- modal -->    
        <ng-template #content let-modal>
            <div class="modal-header">
                <h4 class="modal-title">New Registration</h4>
                
            </div>
            <div class="modal-body">
              <div class="container"> 
                
                  <form class="register-object" [formGroup]="registerForm" (ngSubmit)="onSubmit()"> 
                    <div class="capture-image" *ngIf='showCameraView === true'>
                        <app-camera (pictureTaken)="handleImage($event)"></app-camera>
                    </div>
                    <div class="snapshotList" *ngIf="webcamImages">
                      <mat-grid-list cols="4" >
                        <mat-grid-tile
                            *ngFor="let webcamImg of webcamImages">                                
                            <img [src]="webcamImg.original.imageAsDataUrl" style="object-fit: cover; height: inherit; width: inherit;" />
                        </mat-grid-tile>
                      </mat-grid-list>
                    </div>
                    <div class="snapshotList">
                      <mat-grid-list cols="4" >
                        <mat-grid-tile
                            *ngFor="let file of files">                                
                            <div [ngfBackground]="file" style="background-size:cover;background-repeat:no-repeat;width:110px;height:110px"></div>
                        </mat-grid-tile>
                      </mat-grid-list>
                    </div>
                    <div class="row form-data">
                      <div class="col-md-12" >                        

                        <label for="uploadImage" class='forLabel'>Upload Image<span class="required"> *</span></label>
                        <button ngfSelect type="button" class="btn btn-default not-focusable" [(files)]="files"
                            accept="image/*" multiple="1" required>
                            Browse
                        </button>
                        <button type="button" class="btn btn-default not-focusable" (click)='toggleCamera()' >
                            {{showCameraView ? 'Close' : 'Open'}} Camera
                        </button>
                      <div class="invalid-feedback" [ngClass]="{ 'd-block': registerFormSubmitted && (!files && !webcamImages.length)}">
                          <div>Atleast 1 file is required</div>
                      </div>

                        
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-12" >
                        <label for="label" class='forLabel'>Name<span class="required"> *</span></label>
                        <input type="text" autocomplete="off" placeholder="Enter your name" class="form-control" name='lebel' id='lebel' formControlName="label" 
                            [ngClass]="{ 'is-invalid': registerFormSubmitted && label.invalid }" required>                            
                        <div *ngIf="registerFormSubmitted && label.invalid" class="invalid-feedback">
                            <div *ngIf="label.errors['required']">Name is required</div>
                        </div>                        
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-12" >
                        <label for="subClass" class='forLabel'>Department<span class="required"> *</span></label>
                        <input type="text" autocomplete="off" placeholder="Enter your department" class="form-control" formControlName="subClass" name='subClass' id='subClass'
                          [ngClass]="{ 'is-invalid': registerFormSubmitted && subClass.invalid }" required>
                        <div *ngIf="registerFormSubmitted && subClass.invalid" class="invalid-feedback">
                            <div *ngIf="subClass.errors['required']">Department is required</div>
                        </div>
                      </div>
                    </div>

                    <!-- <div class="row">
                      <div class="col-md-12" >
                        <label for="email" class='forLabel'>Email<span class="required"> *</span></label>
                        <input type="text" autocomplete="off" placeholder="Enter your email" class="form-control" formControlName="email" name='email' id='email'
                          [ngClass]="{ 'is-invalid': registerFormSubmitted && email.invalid }" required>
                        <div *ngIf="registerFormSubmitted && subClass.invalid" class="invalid-feedback">
                            <div *ngIf="subClass.errors['required']">Email is required</div>
                        </div>
                      </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12" >
                          <label for="email" class='forLabel'>Site<span class="required"> *</span></label>
                          <select id="site" class="form-control" name="site" formControlName="email" [ngClass]="{ 'is-invalid': registerFormSubmitted && email.invalid }" required>
                              
                              <option value="undefined"  selected disabled >Select Site</option>
                              <option value="small">small</option>
                              <option value="medium">medium</option>
                              <option value="large">large</option>
                          </select> 
                          <div *ngIf="registerFormSubmitted && subClass.invalid" class="invalid-feedback">
                              <div *ngIf="subClass.errors['required']">Email is required</div>
                          </div>
                        </div>
                      </div> -->
                    
                    
                    <div class="footer-btn">
                      <button type="button" class="btn btn-outline-dark not-focusable " (click)="closeModal(); modal.close('Close click')" >Close</button>
                      <button type="submit" class="btn btn-dark" >Register</button>
                    </div> 
                  </form>
              </div>                  

            </div>
        </ng-template>
        
    </div>
    <div class="toggle-button" [ngClass]="{collapsed: collapsed}" (click)="toggleCollapsed()">
        <i class="fa fa-fw fa-angle-double-{{collapsed?'right':'left'}}"></i>&nbsp;
        <span>{{ 'Collapse Sidebar' }}</span>
    </div>
</nav>
